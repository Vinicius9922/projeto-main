<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" th:href="@{/index.css}" />
    <title>Adicionar Produto</title>
</head>

<body>
    <div class="containerPrincipal">
        <div class="cartaoFormulario">
            <h1 class="tituloCartao">NOVO PRODUTO</h1>

            <form th:action="@{/cadastrar}" method="post" enctype="multipart/form-data" th:object="${produtos}">

                <div class="grupoFormulario">
                    <label for="campoTitulo">Título:</label>
                    <input type="text" th:field="*{nome}" id="campoTitulo" placeholder="Ex: Notebook Gamer" />
                    <div style="color: #ef4444; font-size: 0.8rem; margin-top: 5px;"
                        th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}">Erro Nome</div>
                </div>

                <div class="grupoFormulario">
                    <label for="campoPreco">Preço:</label>
                    <input type="number" step="0.01" th:field="*{preco}" id="campoPreco" placeholder="R$" />
                    <div style="color: #ef4444; font-size: 0.8rem; margin-top: 5px;"
                        th:if="${#fields.hasErrors('preco')}" th:errors="*{preco}">Erro Preço</div>
                </div>

                <div class="grupoFormulario">
                    <label for="campoQuantidade">Quantidade:</label>
                    <input type="number" th:field="*{quantidade}" id="campoQuantidade" placeholder="Unidades" />
                    <div style="color: #ef4444; font-size: 0.8rem; margin-top: 5px;"
                        th:if="${#fields.hasErrors('quantidade')}" th:errors="*{quantidade}">Erro Quantidade</div>
                </div>

                <div class="grupoFormulario">
                    <label for="campoCategoria">Categoria:</label>
                    <select name="categoriaId" id="campoCategoria"
                        style="width: 100%; padding: 12px; border-radius: 8px; background: #0f172a; color: white; border: 1px solid #334155;">
                        <option value="" disabled selected>Selecione uma categoria</option>
                        <option th:each="cat : ${categorias}" th:value="${cat.id}" th:text="${cat.nome}">
                        </option>
                    </select>
                </div>

                <div class="grupoFormulario">
                    <label for="campoArquivo">Imagem do Produto:</label>
                    <input type="file" name="file" id="campoArquivo" accept="image/*" />
                </div>

                <div class="grupoFormulario">
                    <button type="submit" class="botaoAdicionar">Cadastrar Produto</button>
                </div>
            </form>

            <div style="text-align: center; margin-top: 15px;">
                <a th:href="@{/lista}" style="color: #3b82f6;">Ver Loja</a>
            </div>
        </div>
    </div>
</body>

</html>